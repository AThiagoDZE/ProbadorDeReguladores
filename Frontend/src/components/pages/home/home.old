import React, { useState, state } from "react";
import { motion } from "framer-motion";
import VoltageCurrentPanel from "../../data/measure";
import StatusCard from "../../data/statusPanel";

export default function Home() {
    const [voltage, setVoltage] = useState(14.5);
    const minVoltage = 12.5;
    const maxVoltage = 16.5;

    const minCurr = 0;
    const maxCurr = 10;

    const [current1, setCurrent1] = useState(5);
    const [current2, setCurrent2] = useState(3);
    const [current3, setCurrent3] = useState(7);

    const handleClick = () => {
        navigate("/home");
    };

    const [state, setState] = useState("correct");

    const [states, setStates] = useState({
        correct: true,
        failed: false,
        overvoltage: false,
        undervoltage: true,
        overcurrent: false,
        undercurrent: false,
        error: false,
        ocp: false,
    });


    return (
        <motion.main
            className="flex flex-col text-white h-full"
            initial={{ opacity: 0, y: 50 }}
            animate={{ opacity: 1, y: 0 }}
            exit={{ opacity: 0, y: -50 }}
            transition={{ duration: 0.6, ease: "easeOut" }}
        >
            {/* TÃ­tulo centrado */}
            <div className="w-full flex justify-center mb-8">
                <h1 className="text-5xl md:text-6xl font-extrabold tracking-tight text-red-600 drop-shadow-[0_2px_8px_rgba(255,0,0,0.5)] text-center">
                    DZE REGULATOR TESTER
                </h1>
            </div>

            {/* Contenedor principal ocupa todo el espacio restante */}
            <div className="flex max-w-[1400px] mx-auto justify-between items-start gap-8 flex-1">
                {/* Panel izquierdo */}
                <div className="flex flex-col gap-2">
                    {["correct", "failed", "overvoltage", "undervoltage", "overcurrent", "undercurrent", "error", "ocp"].map(s => (
                        <button
                            key={s}
                            onClick={() => setState(s)}
                            className="px-4 py-2 bg-slate-900 rounded hover:bg-gray-300"
                        >
                            {s}
                        </button>
                    ))}
                </div>

                {/* Panel central de Gauges */}
                <div className="flex flex-col items-center">
                    <VoltageCurrentPanel
                        voltage={voltage}
                        minVoltage={minVoltage}
                        maxVoltage={maxVoltage}
                        currents={[current1, current2, current3]}
                        minCurr={minCurr}
                        maxCurr={maxCurr}
                    />
                    <button
                        onClick={handleClick}
                        className="bg-slate-600 hover:bg-slate-700 active:scale-95 transition text-white font-bold text-2xl py-4 px-8 rounded-xl shadow-lg mt-6"
                    >
                        Test Regulator
                    </button>
                </div>

                {/* Panel derecho centrado verticalmente */}
                <div className="flex flex-col justify-center items-center gap-4">
                    <StatusCard state={state} />
                </div>
            </div>

        </motion.main>

    );
}
